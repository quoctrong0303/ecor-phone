<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" class="scroll-smooth dark"
	lang="en">

<head th:replace="~{/fragments/_layout.html :: head}">
</head>

<body>
	<div class="app overflow-hidden">
		<!-- Arrow up -->
		<aside th:replace="~{/fragments/_layout.html :: arrow-up}"></aside>
		<!-- Header -->
		<header th:replace="~{/fragments/user_layout.html :: header}">
		</header>
		<nav th:replace="~{/fragments/user_layout.html :: navbar}"></nav>
		<!-- Main content -->
		<main>

			<div
				class="py-[100px] mobile:px-[20px] min-h-screen bg-gradient-to-tr from-white to-yellow-100">
				<div class="grids wide bg-white rounded-lg h-[50%] shadow-md">
					<div class="row">
						<div class="col l-4 md-12 c-12">
							<img class="mobile:hidden h-full w-full"
								src="https://play-lh.googleusercontent.com/VAY0Hdd9w2VKOgXvv11KB9XzZmbuKmzI7jqD1RSJtQepd3vXM9wpUUO0YUHBJ9u_yxA"
								alt="">
						</div>
						<div class="col l-8 md-12 c-12">
							<form th:object="${user}" method="post" id="fRegister"
								class="mobile:p-5 pc:p-32 tablet:p-5">
								<h2 class="font-semibold text-[24px] text-center">Đăng ký
									tài khoản</h2>
								<span>Đã có tài khoản?<a th:href="@{/login}"> Đăng
										nhập</a></span> <span th:if="${error}" th:text="${error}"
									class="block text-center error-message text-red-600"></span>
								<div class=" form-group row m-[24px_0px]">
									<label class="col l-4 md-12 c-12 tablet:pb-2 mobile:pb-2"
										for="email">Email</label> <input name="email"
										th:field="*{email}" placeholder="Vui lòng nhập email..."
										class="focus-visible:outline-primary-color bg-yellow-100 w-[280px] h-[32px] p-5 col l-8 md-12 c-12"
										type="email" id="email"> <span
										class="error-message col l-o-4 text-red-600"></span>
								</div>
								<div class=" form-group row m-[24px_0px]">
									<label class="col l-4 md-12 c-12 tablet:pb-2 mobile:pb-2"
										for="fullname">Họ và tên</label> <input name="fullname"
										th:field="*{fullname}"
										placeholder="Vui lòng nhập họ và tên..."
										class="focus-visible:outline-primary-color bg-yellow-100 w-[280px] h-[32px] p-5 col l-8 md-12 c-12"
										type="text" id="fullname"> <span
										class="error-message col l-o-4 text-red-600"></span>
								</div>

								<div class=" form-group row m-[24px_0px]">
									<label class="col l-4 md-12 c-12 tablet:pb-2 mobile:pb-2"
										for="password">Mật khẩu</label> <input name="password"
										th:field="*{password}" placeholder="Vui lòng nhập mật khẩu..."
										class="focus-visible:outline-primary-color bg-yellow-100 w-[280px] h-[32px] p-5 col l-8 md-12 c-12"
										type="password" id="password"> <span
										class="error-message col l-o-4 text-red-600"></span>
								</div>
								<div class=" form-group row m-[24px_0px]">
									<label class="col l-4 md-12 c-12 tablet:pb-2 mobile:pb-2"
										for="rePassword">Nhập lại mật khẩu</label> <input
										name="rePassword" placeholder="Vui lòng nhập lại mật khẩu..."
										class="focus-visible:outline-primary-color bg-yellow-100 w-[280px] h-[32px] p-5 col l-8 md-12 c-12"
										type="password" id="rePassword"> <span
										class="error-message col l-o-4 text-red-600"></span>
								</div>
								<button type="submit"
									class="button mb-4 tablet:w-full mobile:w-full float-right btn-primary">
									Đăng ký</button>
								<!-- Btn khi đang submit -->
								<button type="button" style="display: none;"
									class="loading mb-4 tablet:w-full mobile:w-full w-50 h-50 float-right items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-yellow-400 transition ease-in-out duration-150 cursor-not-allowed"
									disabled="">
									<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
										xmlns="http://www.w3.org/2000/svg" fill="none"
										viewBox="0 0 24 24">
                                  <circle class="opacity-25" cx="12"
											cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                  <path class="opacity-75"
											fill="currentColor"
											d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
									Đang đăng ký...
								</button>
							</form>
						</div>
					</div>
				</div>
			</div>

		</main>


		<!-- Footer -->
		<footer th:replace="~{/fragments/user_layout.html :: footer}">
		</footer>
	</div>

	<script>
		window.addEventListener("DOMContentLoaded", () => {
			 options = {
			            rules: {
			                'email' : ['required', 'email'],
			                'fullname': ['required'],
			                'password': ['required', 'min:6'],
			                'rePassword': ['required', 'match:password']

			            },
			            messages: {
			                'required': 'Vui lòng nhập trường này!',
			                'email' : 'Email không hợp lệ!',
			                'min:6' : 'Vui lòng nhập ít nhất 6 ký tự!',
			                'max:20' : 'Tên đăng nhập tối da 20 ký tự!',
			                'match:password' : 'Mật khẩu không khớp!'
			            },
			            isCallAPI: false,
			        }
			        validator('#fRegister', options);
		})
	</script>

	<!--   <script th:replace="~{/fragments/user_layout.html :: splidejs}"></script> -->
	<!-- Load các hàm xử ly flash message -->
	<script th:replace="~{/fragments/_layout.html :: script-flash-message}"></script>

	<!-- Load các hàm khởi tạo để tạo rich text -->
	<script th:replace="~{/fragments/_layout.html :: script-rich-text}"></script>
</body>

</html>