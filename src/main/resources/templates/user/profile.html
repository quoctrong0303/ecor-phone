<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" class="scroll-smooth dark"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	lang="en">

<head th:replace="~{fragments/_layout.html :: head}">
</head>

<body>
	</div>
	<div class="app overflow-hidden">
		<!-- Arrow up -->
		<aside th:replace="~{fragments/_layout.html :: arrow-up}"></aside>
		<!-- Header -->
		<header th:replace="~{fragments/user_layout.html :: header}">
		</header>

		<nav th:replace="~{fragments/user_layout.html :: navbar}"></nav>

		<!-- Main content -->
		<main class="mb-4">
			<!-- Profile -->
			<div
				class="min-h-screen bg-gradient-to-tr from-white p-10 to-yellow-200">
				<div class="flex justify-center items-center">
					<div class="shadow-lg bg-white p-10 w-[480px] relative">
						<form method="post" th:object="${user}" action="/profile" enctype="multipart/form-data"  id="fProfile">
							<!-- Image and name -->
							<div class="flex items-center ">
								<img th:if="${user.avatar != null}"
									th:src="@{/file/}  + ${user.avatar}"
									class="avatar-profile object-contain shadow-md mr-5 p-1 h-[100px] w-[100px] rounded-full"
									alt="">
									<img th:if="${user.avatar == null}"
									th:src="@{file/placeholderAvatar.png}"
									class="avatar-profile object-contain shadow-md mr-5 p-1 h-[100px] w-[100px] rounded-full"
									alt="">
								<p th:text="${user.fullname}" class="font-semibold  text-[#aaa] text-[24px]"></p>
							</div>
							<!-- Edit avatar or remove avatar -->
							<!-- Để positon absolute để khi toggle button, chiều dài của wrapper không bị co giãn
                        mất thẩm mĩ -->
							<div class="p-2 ml-3 absolute">
								<i title="Thay đổi avatar"
									class="hidden button-edit fas fa-pen mr-2 hover:text-primary-color hover:cursor-pointer"></i>
								<i title="Xoá avatar"
									class="hidden button-remove fas fa-trash hover:text-primary-color hover:cursor-pointer"></i>
								<input name="file" id="fileAvatar" type="file" hidden>
							</div>
							<!-- Full profile -->
							<div class="mt-10">
								<div
									class="form-group row items-center border-b-[1px] border-solid border-black">
									<label for="fullname" class="col l-4 font-semibold">Họ
										và tên:</label> <input th:field="*{fullname}" name="fullname" disabled id="fullname"
										class="disabled:bg-white disabled:text-[#aaa] p-2 col l-8 focus:outline-none text-[#666]"
										type="text" th:value="${user.fullname}">
								</div>

								<div
									class="form-group row items-center border-b-[1px] border-solid border-black">
									<label for="email" class="col l-4 font-semibold">Email:</label>
									<input disabled id="email" name="email"
										class="disabled:bg-white disabled:text-[#aaa] p-2 col l-8 focus:outline-none text-[#666]"
										type="email" th:value="${user.email}">
								</div>
								<div
									class="form-group row items-center border-b-[1px] border-solid border-black">
									<label for="numberphone" class="col l-4 font-semibold">Số
										điện thoại:</label> <input th:field="*{numberphone}" name="numberphone" disabled
										id="numberphone"
										class="disabled:bg-white disabled:text-[#aaa] p-2 col l-8 focus:outline-none text-[#666]"
										type="tel" th:value="${user.numberphone}">
								</div>



								<div
									class="form-group row items-center border-b-[1px] border-solid border-black">
									<label for="address" class="col l-4 font-semibold">Địa
										chỉ:</label>
									<textarea th:field="*{address}" th:text="${user.address}" name="address" disabled id="address"
										class="disabled:bg-white disabled:text-[#aaa] overflow-hidden resize-none h-[92px] p-2 col l-8 focus:outline-none text-[#666]"
										type="text"></textarea>
								</div>

								<div
									class="btnUpdate form-group row items-center pt-5 justify-center">

									<button type="submit" id="btnUpdateInfo"
										class="btn-primary disabled:btn-disabled w-full">Cập
										nhật thông tin</button>
								</div>

								<div
									class="btnUpdating hidden form-group row justify-between pt-5">
									<button type="submit" id="btnSave"
										class="btn-save col c-6 md-6 l-6 disabled:btn-disabled">Lưu</button>
									<button type="submit" id="btnCancel"
										class="btn-cancel col c-4 md-4 l-4 disabled:btn-disabled">Huỷ
										bỏ</button>
								</div>
							</div>

						</form>
					</div>
				</div>
			</div>
		</main>


		<!-- Footer -->
		<footer th:replace="~{fragments/user_layout.html :: footer}">
		</footer>
	</div>

	<!-- Load các hàm xử ly flash message -->
	<script th:replace="~{fragments/_layout.html :: script-flash-message}"></script>

	<!-- Load các hàm khởi tạo để tạo rich text -->
	<script th:replace="~{fragments/_layout.html :: script-rich-text}"></script>
</body>

</html>
