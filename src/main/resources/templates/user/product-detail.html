<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" class="scroll-smooth dark"
	xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	lang="en">

<head th:replace="~{/fragments/_layout.html :: head}">
</head>

<body>
	<div th:replace="~{/fragments/user_layout.html :: allSpecifications}">
	</div>
	<div class="app overflow-hidden">
		<!-- Arrow up -->
		<aside th:replace="~{/fragments/_layout.html :: arrow-up}"></aside>
		<!-- Header -->
		<header th:replace="~{/fragments/user_layout.html :: header}">
		</header>

		<nav th:replace="~{/fragments/user_layout.html :: navbar}"></nav>

		<!-- Main content -->
		<main class="mb-4">
			<div class="min-h-screen mb-5 mx-5">
				<div class="grids wide">
					<h1 th:text="${productOption.getDisplayName()}"
						class="font-bold p-[12px_0_8px_0] border-b-[1px] border-[#ece9e9] border-solid"></h1>
					<div class="row mt-3">
						<div class="col l-4 md-4 c-12">
							<section id="main-carousel"
								class="border-[1px] border-solid border-[#ccc] splide h-[376px] mb-3"
								aria-label="Splide Basic HTML Example">
								<div class="splide__track h-full">
									<ul class="splide__list">
										<li class="splide__slide"><img class="h-full w-[100%] tablet:h-[400px]  mobile:h-[300px] object-contain"
											src="https://cdn2.cellphones.com.vn/358x/media/catalog/product/i/p/iphone_13-_pro-2_2.jpg"
											alt="" srcset=""></li>
										<li class="splide__slide"><img class="h-full w-[100%] tablet:h-[400px]  mobile:h-[300px] object-contain"
											src="https://cdn2.cellphones.com.vn/358x/media/catalog/product/i/p/iphone_13-_pro-3_2.jpg"
											alt="" srcset=""></li>
										<li class="splide__slide"><img class="h-full w-[100%] tablet:h-[400px]  mobile:h-[300px] object-contain"
											src="https://cdn2.cellphones.com.vn/358x/media/catalog/product/i/p/iphone_13-_pro-5_4.jpg"
											alt="" srcset=""></li>
										<li class="splide__slide"><img class="h-full w-[100%] tablet:h-[400px]  mobile:h-[300px] object-contain"
											src="https://cdn2.cellphones.com.vn/358x/media/catalog/product/i/p/iphone_13-_pro-4_2.jpg"
											alt="" srcset=""></li>
								</div>
							</section>
							<section id="thumbnail-carousel" class="splide"
								aria-label="Splide Basic HTML Example">
								<div class="splide__track h-full">
									<ul class="splide__list">
										<li class="splide__slide"><img class="h-full w-[100%]"
											src="https://cdn2.cellphones.com.vn/358x/media/catalog/product/i/p/iphone_13-_pro-2_2.jpg"
											alt="" srcset=""></li>
										<li class="splide__slide"><img class="h-full w-[100%]"
											src="https://cdn2.cellphones.com.vn/358x/media/catalog/product/i/p/iphone_13-_pro-3_2.jpg"
											alt="" srcset=""></li>
										<li class="splide__slide"><img class="h-full w-[100%]"
											src="https://cdn2.cellphones.com.vn/358x/media/catalog/product/i/p/iphone_13-_pro-5_4.jpg"
											alt="" srcset=""></li>
										<li class="splide__slide"><img class="h-full w-[100%]"
											src="https://cdn2.cellphones.com.vn/358x/media/catalog/product/i/p/iphone_13-_pro-4_2.jpg"
											alt="" srcset=""></li>
								</div>
							</section>
						</div>
						<div class="col l-4 md-8 c-12">
							<div class="flex">
								<h1 th:text="${productOption.getFormatedPriceHasDiscount()}"
								class="my-1 font-bold text-yellow-500"></h1>
								<h1 th:if="${productOption.isPromoted()}" th:text="${productOption.getFormatedPrice()}"
								class="ml-2 line-through my-1 font-bold"></h1>
							</div>
							<!-- ROM Options -->
							<!-- <div class="row sm-gutter">
								<div th:each="productOption : ${product.getProductOptions()}" class="col l-4 mb-2 md-4 c-6">
									<div
										class="rom-item hover:cursor-pointer border-item--active text-center rounded-lg p-1 text-[12px] font-semibold">
										<h3 th:text="${productOption.Ram} + ' - '  + ${productOption.Rom}"></h3>
										<span th:text="${productOption.getFormatedPrice()}"></span>
									</div>
								</div>
							</div>  -->
							<!-- Color Options -->
							<!-- productOption2 là trong loop -->
							<!-- productOption là cái đang xem thông tin-->
							<div class="">
								<h2 class="font-semibold my-1">Chọn cấu hình chi tiết để
									xem giá</h2>
								<div class="row sm-gutter">
									<div th:each="productOption2 : ${product.getProductOptions()}"
									th:data-id="${product.id}" th:data-productoption="${productOption2.id}"
										class="col l-6 md-6 c-6 mb-2 hover:cursor-pointer product-item">
										<div th:if="${productOption.id} == ${productOption2.id}"
											class="color-item justify-center flex border-item--active border-item text-center rounded-lg p-1 text-[12px] font-semibold">
											<img class="p-1 w-[30px] h-[30px] object-contain"
												th:src="@{/file/} + ${productOption2.getProductImages().iterator().next().getUrl()}">
											<div>
												<h3
													th:text="${productOption2.ram}  + ' - ' + ${productOption2.rom} + ' - ' + ${productOption2.color}"></h3>
												<span th:text="${productOption2.getFormatedPriceHasDiscount()}"></span>
											</div>
										</div>
										
										
										<div th:if="${productOption.id} != ${productOption2.id}"
											class="color-item justify-center flex  border-item text-center rounded-lg p-1 text-[12px] font-semibold">
											<img class="p-1 w-[30px] h-[30px] object-contain"
												th:src="@{/file/} + ${productOption2.getProductImages().iterator().next().getUrl()}">
											<div>
												<h3
													th:text="${productOption2.ram}  + ' - ' + ${productOption2.rom} + ' - ' + ${productOption2.color}"></h3>
												<span th:text="${productOption2.getFormatedPriceHasDiscount()}"></span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<!-- Buy btn and add to cart btn -->
							<div th:if="${stock != null && stock.quantity > 0}" class="row sm-gutter">
								<div class="col l-8 md-8 c-8">
									<button  class=" btn-primary w-full h-[50px]">MUA
										NGAY</button>
								</div>
								<div class="col l-4 md-4 c-4">
									<button th:data-id="${productOption.id}"
										class="add-to-cart h-[50px] w-full text-yellow-500 border-2 border-solid border-yellow-500 p-1 rounded-lg">
										<i class="fas fa-cart-plus"></i> <span
											class="block text-[12px]">Thêm vào giỏ</span>
									</button>
								</div>
							</div>
							<div th:unless="${stock != null && stock.quantity > 0}" class="row sm-gutter">
								<div class="col l-12 md-12 c-12">
									<button  class=" btn-disabled w-full h-[50px]">HẾT HÀNG</button>
								</div>
							</div>
						</div>
						<div class="col l-4 md-0 c-0">
							<!-- <select class="p-2 w-full border-[1px] rounded-lg border-solid border-[#d1d5db]" name="" id="">
                            <option value="">Hà Nội</option>
                            <option value="">Đà Nẵng</option>
                            <option value="">TP.HCM</option>
                        </select> -->
							<!-- <div class="row mt-2 sm-gutter">
                            <div class="col l-6">
                                <select class="w-full p-2 border-[1px] border-solid border-[#d1d5db] rounded-lg" name="" id="">
                                    <option value="" disabled="disabled" selected>Tỉnh/thành</option>
                                    <option value="">Kiên Giang</option>
                                    <option value="">Vĩnh Long</option>
                                    <option value="">Sóc Trăng</option>
                                </select>
                            </div>
                            <div class="col l-6">
                                <select class="w-full p-2 border-[1px] border-solid border-[#d1d5db] rounded-lg" name="" id="">
                                    <option value="" disabled="disabled" selected>Quận/huyện</option>
                                    <option class="" value="">Hòn đất</option>
                                    <option class="" value="">Lorem, ipsum dolor.</option>
                                    <option class="" value="">Lorem ipsum dolor sit</option>
                                </select>
                            </div>
                        </div> -->
							<!-- <h3 class="p-2">Có <span class="font-bold">20</span> cửa hàng có sản phẩm</h3> -->
							<!-- Shops numberphone and address -->
							<!-- <ul class="h-[200px] overflow-y-scroll rounded-lg border-[1px] border-solid border-[#d1d5db]">
                                <li class="odd:bg-[#f2f2f2] even:bg-white flex p-1 text-ellipsis whitespace-nowrap">
                                    <div class="text-yellow-600 hover:underline hover:cursor-pointer">
                                        <i class="pr-1 fas fa-phone-alt"></i><span>0123456789</span>
                                    </div><span>&nbsp;|&nbsp;</span>
                                    <h3 class="overflow-hidden" title="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorem?">Khu II - Đại học cần thơ</h3> 
                                </li>
                                <li class="odd:bg-[#f2f2f2] even:bg-white flex p-1 text-ellipsis whitespace-nowrap">
                                    <div class="text-yellow-600 hover:underline hover:cursor-pointer">
                                        <i class="pr-1 fas fa-phone-alt"></i><span>0123456789</span>
                                    </div><span>&nbsp;|&nbsp;</span>
                                    <h3 class="overflow-hidden" title="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorem?">Khu II - Đại học cần thơ</h3>
                                </li>
                                <li class="odd:bg-[#f2f2f2] even:bg-white flex p-1 text-ellipsis whitespace-nowrap">
                                    <div class="text-yellow-600 hover:underline hover:cursor-pointer">
                                        <i class="pr-1 fas fa-phone-alt"></i><span>0123456789</span>
                                    </div><span>&nbsp;|&nbsp;</span>
                                    <h3 class="overflow-hidden" title="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorem?">Khu II - Đại học cần thơ</h3>
                                </li>
                                <li class="odd:bg-[#f2f2f2] even:bg-white flex p-1 text-ellipsis whitespace-nowrap">
                                    <div class="text-yellow-600 hover:underline hover:cursor-pointer">
                                        <i class="pr-1 fas fa-phone-alt"></i><span>0123456789</span>
                                    </div><span>&nbsp;|&nbsp;</span>
                                    <h3 class="overflow-hidden" title="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorem?">Khu II - Đại học cần thơ</h3>
                                </li>
                                <li class="odd:bg-[#f2f2f2] even:bg-white flex p-1 text-ellipsis whitespace-nowrap">
                                    <div class="text-yellow-600 hover:underline hover:cursor-pointer">
                                        <i class="pr-1 fas fa-phone-alt"></i><span>0123456789</span>
                                    </div><span>&nbsp;|&nbsp;</span>
                                    <h3 class="overflow-hidden" title="Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolorem?">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quo vel voluptates autem corporis? Libero officia quod unde maxime impedit enim?</h3>
                                </li>
                                
                            </ul> -->

							<div
								class="border-[1px] border-solid border-[#d1d5db] text-center p-2">
								<h3 class="font-bold text-[16px] leading-[24px] p-3 uppercase">
									Chúng tôi luôn sẵn sàng <br>để giúp đỡ bạn
								</h3>
								<img class="w-full px-2 object-contain h-[220px]"
									th:src="@{/file/support_online.png}" alt=""> <span
									class="text-[#7a7d8d]">Để được hỗ trợ tốt nhất hãy gọi</span> <a
									href="tel:0123456789"><h2
										class="hover:text-yellow-500 font-bold text-[20px]">01234
										567 89</h2></a> <span class="bg-white inline-block px-2">Hoặc</span>
								<p class="font-bold text-[#7a7d8d]">Chat hỗ trợ trực tuyến</p>
								<p class="text-[#7a7d8d]">Chúng tôi luôn trực tuyến 24/7</p>
							</div>
						</div>
					</div>
					<div class="row mt-8">
						<div class="col l-8 md-12 c-12">
							<!-- Ở chỗ này khi tạo đường viền nên xài sudoclass để se bg-color sẽ tiện hơn -->
							<div class="border-b-[2px] border-solid border-b-[#eae9ef] ">
								<a href=""
									class="feedback p-[3px_12px_4px_12px] font-semibold text-black relative hover:text-black hover:after:bg-black after:w-full uppercase after:bg-black after:content-[''] after:h-[1px] 
                                after:bottom-0 after:left-0 after:absolute
                                 ">Mô
									tả</a> <a href=""
									class="feedback p-[3px_12px_4px_12px] font-semibold text-[#aaa] relative hover:text-black after:w-full  hover:after:bg-black uppercase after:bg-[#eae9ef] after:content-[''] after:h-[1px] 
                                after:bottom-0 after:left-0 after:absolute
                                 ">Nhận
									xét và đánh giá</a>
							</div>
							<div id="product_info" class="relative m-3">
								<div th:utext="${product.introdution}"
									class="h-[768px] overflow-hidden" id="product_info-content">

								</div>

								<div class="text-center bg-white h-[24px] w-full">
									<a href=""
										class="text-blue-700 hover:underline loadmore leading-[24px]">Xem
										thêm <i class="fas fa-chevron-down"></i>
									</a>
								</div>

							</div>

						</div>
						<div class="col l-4 md-12 c-12">
							<div
								class="mb-3 border-b-[2px] border-solid border-b-[#eae9ef] text-center">
								<span href=""
									class="p-[3px_12px_4px_12px] uppercase font-semibold text-[#aaa] ">Thông
									số kỹ thuật</span>
							</div>
							<!-- specifications -->
							<div>
								<div class="row p-1">
									<div class="col l-6">
										<span class="font-semibold text-[16px]">Màn hình:</span>
									</div>
									<div class="col l-6">
										<h3 th:text="${productOption.monitor}"
											class="text-[16px] text-[#7a7d8d]"></h3>
									</div>
								</div>
								<div class="row p-1">
									<div class="col l-6">
										<span class="font-semibold text-[16px]">Camera trước:</span>
									</div>
									<div class="col l-6">
										<h3 th:text="${productOption.frontCamera}"
											class="text-[16px] text-[#7a7d8d]"></h3>
									</div>
								</div>
								<div class="row p-1">
									<div class="col l-6">
										<span class="font-semibold text-[16px]">Camera sau:</span>
									</div>
									<div class="col l-6">
										<h3 th:text="${productOption.rearCamera}"
											class="text-[16px] text-[#7a7d8d]"></h3>
									</div>
								</div>
								<div class="row p-1">
									<div class="col l-6">
										<span class="font-semibold text-[16px]">Ram:</span>
									</div>
									<div class="col l-6">
										<h3 th:text="${productOption.ram}"
											class="text-[16px] text-[#7a7d8d]"></h3>
									</div>
								</div>
								<div class="row p-1">
									<div class="col l-6">
										<span class="font-semibold text-[16px]">Bộ nhớ trong:</span>
									</div>
									<div class="col l-6">
										<h3 th:text="${productOption.rom}"
											class="text-[16px] text-[#7a7d8d]"></h3>
									</div>
								</div>
								<div class="row p-1">
									<div class="col l-6">
										<span class="font-semibold text-[16px]">CPU:</span>
									</div>
									<div class="col l-6">
										<h3 th:text="${productOption.cpu}"
											class="text-[16px] text-[#7a7d8d]"></h3>
									</div>
								</div>
								<div class="row p-1">
									<div class="col l-6">
										<span class="font-semibold text-[16px]">GPU:</span>
									</div>
									<div class="col l-6">
										<h3 th:text="${productOption.gpu}"
											class="text-[16px] text-[#7a7d8d]"></h3>
									</div>
								</div>
								<div class="row p-1">
									<div class="col l-6">
										<span class="font-semibold text-[16px]">Dung Lượng Pin:</span>
									</div>
									<div class="col l-6">
										<h3 th:text="${productOption.pin}"
											class="text-[16px] text-[#7a7d8d]"></h3>
									</div>
								</div>
							</div>
							<!-- View full specifications-->
							<div class="text-center mt-3">
								<button
									class="toggle-modal font-semibold w-full p-3 border-[2px] border-solid border-yellow-500 text-yellow-500 hover:bg-yellow-600 hover:text-white">
									Xem cấu hình chi tiết</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</main>


		<!-- Footer -->
		<footer th:replace="~{/fragments/user_layout.html :: footer}">
		</footer>
	</div>

	<!-- Load các hàm xử ly flash message -->
	<script th:replace="~{/fragments/_layout.html :: script-flash-message}"></script>

	<!-- Load các hàm khởi tạo để tạo rich text -->
	<script th:replace="~{/fragments/_layout.html :: script-rich-text}"></script>
	<script>
		// Bắt sự kiện khi load xong html
		document.addEventListener('DOMContentLoaded', function() {
			// Khai báo main carousel
			var main = new Splide('#main-carousel', {
				type : 'fade',
				rewind : true,
				pagination : false,
				autoplay : true,
				interval : 3000,
				arrows : false,
			});
			// Khai báo thumbnail carousel
			var thumbnails = new Splide('#thumbnail-carousel', {
				fixedWidth : 60,
				fixedHeight : 60,
				gap : 5,
				rewind : true,
				pagination : false,
				focus : 'center',
				isNavigation : true,
				arrows : false,
				// Responsive
				breakpoints : {
					600 : {
						fixedWidth : 60,
						fixedHeight : 44,
					},
				},
			});

			main.sync(thumbnails);
			main.mount();
			thumbnails.mount();
		});
	</script>
</body>

</html>